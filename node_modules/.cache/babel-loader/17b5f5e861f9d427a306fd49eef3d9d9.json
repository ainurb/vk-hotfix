{"ast":null,"code":"var _jsxFileName = \"/Users/user/Desktop/vk-hotfix-web-app/src/panels/Orders.js\";\nimport React, { useMemo } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport refresh from \"../img/refresh-button.svg\";\nimport \"./orders.css\";\n\nconst Orders = ({\n  order,\n  orderStatuses,\n  foodAreas,\n  setFinishedOrder,\n  setCancelledOrder,\n  setActiveOrder\n}) => {\n  const activeOrders = useMemo(() => {\n    const activeOrdersList = Object.keys(orderStatuses).filter(shopId => orderStatuses[shopId] === \"ACTIVE\").map(shopId => shopId);\n    const result = [];\n    const activeOrdersSet = new Set(activeOrdersList);\n    foodAreas.forEach(area => {\n      area.items.forEach(item => {\n        if (activeOrdersSet.has(item.id)) {\n          const data = {\n            placeId: area.id,\n            placeName: area.name,\n            shopId: item.id,\n            shopName: item.name,\n            price: item.foods.reduce((result, food) => {\n              if (food.id in order) {\n                const {\n                  item: {\n                    price\n                  },\n                  count\n                } = order[food.id];\n                return result + parseInt(price) * parseInt(count);\n              }\n\n              return result;\n            }, 0),\n            link: `/order/${area.id}/${item.id}`\n          };\n          result.push(data);\n        }\n      });\n    });\n    return result;\n  }, [order, orderStatuses, foodAreas]);\n  const finishedOrders = useMemo(() => {\n    const activeOrdersList = Object.keys(orderStatuses).filter(shopId => orderStatuses[shopId] !== \"ACTIVE\").map(shopId => shopId);\n    const result = [];\n    const activeOrdersSet = new Set(activeOrdersList);\n    foodAreas.forEach(area => {\n      area.items.forEach(item => {\n        if (activeOrdersSet.has(item.id)) {\n          const data = {\n            placeName: area.name,\n            shopName: item.name,\n            shopId: item.id,\n            price: item.foods.reduce((result, food) => {\n              if (food.id in order) {\n                const {\n                  item: {\n                    price\n                  },\n                  count\n                } = order[food.id];\n                return result + parseInt(price) * parseInt(count);\n              }\n\n              return result;\n            }, 0),\n            link: `/order/${area.id}/${item.id}`\n          };\n          result.push(data);\n        }\n      });\n    });\n    return result;\n  }, [order, orderStatuses, foodAreas]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Orders\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"Orders__active-orders\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }\n  }, activeOrders.map(order => /*#__PURE__*/React.createElement(\"li\", {\n    className: \"Orders__active-order\",\n    key: order.link,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Orders__left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"Orders__header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 15\n    }\n  }, order.placeName), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"Orders__shop-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 15\n    }\n  }, order.shopName), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"Orders__price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 15\n    }\n  }, \"\\u0421\\u0443\\u043C\\u043C\\u0430 \", order.price, \" - \\u041E\\u043F\\u043B\\u0430\\u0447\\u0435\\u043D\\u043E\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Orders__time\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, \"~ 15 \\u041C\"), /*#__PURE__*/React.createElement(Link, {\n    className: \"Orders__change\",\n    to: `/place/${order.placeId}/${order.shopId}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 13\n    }\n  }, \"\\u0418\\u0437\\u043C\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"Orders__cancel\",\n    onClick: () => {\n      setCancelledOrder({\n        itemId: order.shopId\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }\n  }, \"\\u041E\\u0442\\u043C.\")))), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"Orders__finished-orders\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 7\n    }\n  }, finishedOrders.map(order => /*#__PURE__*/React.createElement(\"li\", {\n    className: \"Orders__finished-order\",\n    key: order.link,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Orders__left\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"Orders__header Orders__dark\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 15\n    }\n  }, order.placeName), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"Orders__shop-name Orders__pink\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 15\n    }\n  }, order.shopName), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"Orders__price Orders__pink\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 15\n    }\n  }, \"\\u0421\\u0443\\u043C\\u043C\\u0430 \", order.price, \" - \\u041E\\u043F\\u043B\\u0430\\u0447\\u0435\\u043D\\u043E\")), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"Orders__repeat\",\n    onClick: () => {\n      setActiveOrder({\n        itemId: order.shopId\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 130,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"Orders__refresh\",\n    alt: \"repeat order\",\n    src: refresh,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 15\n    }\n  }))))));\n};\n\nOrders.defaultProps = {\n  setFinishedOrder: () => {},\n  setCancelledOrder: () => {},\n  setActiveOrder: () => {}\n};\nexport default Orders;","map":{"version":3,"sources":["/Users/user/Desktop/vk-hotfix-web-app/src/panels/Orders.js"],"names":["React","useMemo","Link","Orders","order","orderStatuses","foodAreas","setFinishedOrder","setCancelledOrder","setActiveOrder","activeOrders","activeOrdersList","Object","keys","filter","shopId","map","result","activeOrdersSet","Set","forEach","area","items","item","has","id","data","placeId","placeName","name","shopName","price","foods","reduce","food","count","parseInt","link","push","finishedOrders","itemId","refresh","defaultProps"],"mappings":"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","sourcesContent":["import React, { useMemo } from \"react\";\nimport { Link } from \"react-router-dom\";\n\nimport refresh from \"../img/refresh-button.svg\";\nimport \"./orders.css\";\n\nconst Orders = ({\n  order,\n  orderStatuses,\n  foodAreas,\n  setFinishedOrder,\n  setCancelledOrder,\n  setActiveOrder,\n}) => {\n  const activeOrders = useMemo(() => {\n    const activeOrdersList = Object.keys(orderStatuses)\n      .filter((shopId) => orderStatuses[shopId] === \"ACTIVE\")\n      .map((shopId) => shopId);\n\n    const result = [];\n    const activeOrdersSet = new Set(activeOrdersList);\n\n    foodAreas.forEach((area) => {\n      area.items.forEach((item) => {\n        if (activeOrdersSet.has(item.id)) {\n          const data = {\n            placeId: area.id,\n            placeName: area.name,\n            shopId: item.id,\n            shopName: item.name,\n            price: item.foods.reduce((result, food) => {\n              if (food.id in order) {\n                const {\n                  item: { price },\n                  count,\n                } = order[food.id];\n\n                return result + parseInt(price) * parseInt(count);\n              }\n\n              return result;\n            }, 0),\n            link: `/order/${area.id}/${item.id}`,\n          };\n\n          result.push(data);\n        }\n      });\n    });\n\n    return result;\n  }, [order, orderStatuses, foodAreas]);\n\n  const finishedOrders = useMemo(() => {\n    const activeOrdersList = Object.keys(orderStatuses)\n      .filter((shopId) => orderStatuses[shopId] !== \"ACTIVE\")\n      .map((shopId) => shopId);\n\n    const result = [];\n    const activeOrdersSet = new Set(activeOrdersList);\n\n    foodAreas.forEach((area) => {\n      area.items.forEach((item) => {\n        if (activeOrdersSet.has(item.id)) {\n          const data = {\n            placeName: area.name,\n            shopName: item.name,\n            shopId: item.id,\n            price: item.foods.reduce((result, food) => {\n              if (food.id in order) {\n                const {\n                  item: { price },\n                  count,\n                } = order[food.id];\n\n                return result + parseInt(price) * parseInt(count);\n              }\n\n              return result;\n            }, 0),\n            link: `/order/${area.id}/${item.id}`,\n          };\n\n          result.push(data);\n        }\n      });\n    });\n\n    return result;\n  }, [order, orderStatuses, foodAreas]);\n\n  return (\n    <div className=\"Orders\">\n      <ul className=\"Orders__active-orders\">\n        {activeOrders.map((order) => (\n          <li className=\"Orders__active-order\" key={order.link}>\n            <div className=\"Orders__left\">\n              <h3 className=\"Orders__header\">{order.placeName}</h3>\n              <p className=\"Orders__shop-name\">{order.shopName}</p>\n              <p className=\"Orders__price\">Сумма {order.price} - Оплачено</p>\n            </div>\n            <div className=\"Orders__time\">~ 15 М</div>\n            <Link\n              className=\"Orders__change\"\n              to={`/place/${order.placeId}/${order.shopId}`}\n            >\n              Изм\n            </Link>\n            <button\n              className=\"Orders__cancel\"\n              onClick={() => {\n                setCancelledOrder({ itemId: order.shopId });\n              }}\n            >\n              Отм.\n            </button>\n          </li>\n        ))}\n      </ul>\n      <ul className=\"Orders__finished-orders\">\n        {finishedOrders.map((order) => (\n          <li className=\"Orders__finished-order\" key={order.link}>\n            <div className=\"Orders__left\">\n              <h3 className=\"Orders__header Orders__dark\">{order.placeName}</h3>\n              <p className=\"Orders__shop-name Orders__pink\">{order.shopName}</p>\n              <p className=\"Orders__price Orders__pink\">\n                Сумма {order.price} - Оплачено\n              </p>\n            </div>\n            <button\n              className=\"Orders__repeat\"\n              onClick={() => {\n                setActiveOrder({ itemId: order.shopId });\n              }}\n            >\n              <img\n                className=\"Orders__refresh\"\n                alt=\"repeat order\"\n                src={refresh}\n              />\n            </button>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n};\n\nOrders.defaultProps = {\n  setFinishedOrder: () => {},\n  setCancelledOrder: () => {},\n  setActiveOrder: () => {},\n};\n\nexport default Orders;\n"]},"metadata":{},"sourceType":"module"}