{"ast":null,"code":"var _jsxFileName = \"/Users/user/Desktop/vk-hotfix-web-app/src/panels/Place.js\";\nimport React, { useMemo } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport accounting from \"accounting\"; // import PropTypes from 'prop-types';\n\nimport edit from \"../img/edit.svg\";\nimport \"./place.css\";\n\nconst Place = ({\n  item,\n  order,\n  onIncrementPosition,\n  onDecrementPosition,\n  area,\n  bookingAvailable\n}) => {\n  const price = useMemo(() => {\n    const foodIds = new Set((item.foods || []).map(item => item.id));\n    const result = Object.values(order).filter(value => {\n      const {\n        item: {\n          id\n        }\n      } = value;\n      return foodIds.has(id);\n    }).reduce((result, value) => {\n      const {\n        count,\n        item: {\n          price\n        }\n      } = value;\n      return result + parseInt(price) * parseInt(count);\n    }, 0);\n    return accounting.formatNumber(result, 0, \" \");\n  }, [order, item]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Place\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"header\", {\n    className: \"Place__header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"aside\", {\n    className: \"Place__trz\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    className: \"Place__head\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/\",\n    className: \"Place__logo\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, area.name)), /*#__PURE__*/React.createElement(Link, {\n    to: \"/edit\",\n    className: \"Place__change-tz\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"change-profile\",\n    src: edit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  })))), /*#__PURE__*/React.createElement(\"aside\", {\n    className: \"Place__restoraunt\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"Place__restoraunt-logo\",\n    alt: \"Fastfood logo\",\n    src: item.image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"h2\", {\n    className: \"Place__restoraunt-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, item.name), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"Place__restoraunt-type\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }\n  }, item.description)), /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"Place__foods\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }\n  }, item.foods.map(food => /*#__PURE__*/React.createElement(\"li\", {\n    className: \"Place__food\",\n    key: food.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Place__food-logo-wrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    alt: \"food logo\",\n    className: \"Place__food-logo\",\n    src: food.image,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 15\n    }\n  })), /*#__PURE__*/React.createElement(\"h3\", {\n    className: \"Place__food-name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, food.name), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"Place__food-composition\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }\n  }, food.composition), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"Place__food-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \".Place__food-price-price\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 15\n    }\n  }, \"\\u0426\\u0435\\u043D\\u0430: \", food.price, \"\\xA0\\xA0\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"Place__food-button\",\n    onClick: () => {\n      onDecrementPosition({\n        id: food.id,\n        itemId: item.id,\n        areaId: area.id\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 15\n    }\n  }, \"-\"), /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 15\n    }\n  }, \"\\xA0\", food.id in order ? order[food.id].count : 0, \"\\xA0\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"Place__food-button\",\n    onClick: () => {\n      onIncrementPosition({\n        id: food.id,\n        itemId: item.id,\n        areaId: area.id\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 15\n    }\n  }, \"+\"))))), /*#__PURE__*/React.createElement(\"footer\", {\n    className: \"Place__footer\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 110,\n      columnNumber: 7\n    }\n  }, bookingAvailable && /*#__PURE__*/React.createElement(Link, {\n    to: `/basket/${area.id}/${item.id}`,\n    className: \"Place__order\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 11\n    }\n  }, \"\\u041E\\u0444\\u043E\\u0440\\u043C\\u0438\\u0442\\u044C \\u0437\\u0430\\u043A\\u0430\\u0437 (\", price, \")\")));\n};\n\nPlace.defaultProps = {\n  item: {},\n  onIncrementPosition: () => {},\n  onDecrementPosition: () => {}\n};\nexport default Place;","map":{"version":3,"sources":["/Users/user/Desktop/vk-hotfix-web-app/src/panels/Place.js"],"names":["React","useMemo","Link","accounting","Place","item","order","onIncrementPosition","onDecrementPosition","area","bookingAvailable","price","foodIds","Set","foods","map","id","result","Object","values","filter","value","has","reduce","count","parseInt","formatNumber","name","edit","image","description","food","composition","itemId","areaId","defaultProps"],"mappings":"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","sourcesContent":["import React, { useMemo } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport accounting from \"accounting\";\n// import PropTypes from 'prop-types';\n\nimport edit from \"../img/edit.svg\";\nimport \"./place.css\";\n\nconst Place = ({\n  item,\n  order,\n  onIncrementPosition,\n  onDecrementPosition,\n  area,\n  bookingAvailable,\n}) => {\n  const price = useMemo(() => {\n    const foodIds = new Set((item.foods || []).map((item) => item.id));\n\n    const result = Object.values(order)\n      .filter((value) => {\n        const {\n          item: { id },\n        } = value;\n\n        return foodIds.has(id);\n      })\n      .reduce((result, value) => {\n        const {\n          count,\n          item: { price },\n        } = value;\n\n        return result + parseInt(price) * parseInt(count);\n      }, 0);\n\n    return accounting.formatNumber(result, 0, \" \");\n  }, [order, item]);\n\n  return (\n    <div className=\"Place\">\n      <header className=\"Place__header\">\n        <aside className=\"Place__trz\">\n          <h1 className=\"Place__head\">\n            <Link to=\"/\" className=\"Place__logo\">\n              {area.name}\n            </Link>\n          </h1>\n          <Link to=\"/edit\" className=\"Place__change-tz\">\n            <img alt=\"change-profile\" src={edit} />\n          </Link>\n        </aside>\n      </header>\n      <aside className=\"Place__restoraunt\">\n        <img\n          className=\"Place__restoraunt-logo\"\n          alt=\"Fastfood logo\"\n          src={item.image}\n        />\n        <h2 className=\"Place__restoraunt-name\">{item.name}</h2>\n        <p className=\"Place__restoraunt-type\">{item.description}</p>\n      </aside>\n      <ul className=\"Place__foods\">\n        {item.foods.map((food) => (\n          <li className=\"Place__food\" key={food.id}>\n            <div className=\"Place__food-logo-wrapper\">\n              <img\n                alt=\"food logo\"\n                className=\"Place__food-logo\"\n                src={food.image}\n              />\n            </div>\n            <h3 className=\"Place__food-name\">{food.name}</h3>\n            <p className=\"Place__food-composition\">{food.composition}</p>\n            <div className=\"Place__food-price\">\n              <span className=\".Place__food-price-price\">\n                Цена: {food.price}&nbsp;&nbsp;\n              </span>\n              <button\n                className=\"Place__food-button\"\n                onClick={() => {\n                  onDecrementPosition({\n                    id: food.id,\n                    itemId: item.id,\n                    areaId: area.id,\n                  });\n                }}\n              >\n                -\n              </button>\n              <span>\n                &nbsp;{food.id in order ? order[food.id].count : 0}&nbsp;\n              </span>\n              <button\n                className=\"Place__food-button\"\n                onClick={() => {\n                  onIncrementPosition({\n                    id: food.id,\n                    itemId: item.id,\n                    areaId: area.id,\n                  });\n                }}\n              >\n                +\n              </button>\n            </div>\n          </li>\n        ))}\n      </ul>\n      <footer className=\"Place__footer\">\n        {bookingAvailable && (\n          <Link to={`/basket/${area.id}/${item.id}`} className=\"Place__order\">\n            Оформить заказ ({price})\n          </Link>\n        )}\n      </footer>\n    </div>\n  );\n};\n\nPlace.defaultProps = {\n  item: {},\n  onIncrementPosition: () => {},\n  onDecrementPosition: () => {},\n};\n\nexport default Place;\n"]},"metadata":{},"sourceType":"module"}